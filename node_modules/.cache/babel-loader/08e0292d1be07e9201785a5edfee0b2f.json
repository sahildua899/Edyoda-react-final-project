{"ast":null,"code":"var _jsxFileName = \"E:\\\\edyoda-projects\\\\React-final-project\\\\src\\\\Containers\\\\AccountPage\\\\ChangeAvatar.js\";\nimport React, { Component } from \"react\";\nimport classes from \"./ChangeAvatar.module.css\";\nimport profile from \"../../Assests/images/avatar.png\";\n\nclass ChangeAvatar extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      profileImg: profile,\n      id: \"someUniqueId\",\n      // I would use this.props.id for a real world implementation\n      imageURI: null,\n      Accountvalue: \"\" // uploadButton:true,\n      // AccountValue:this.props.Accountvalue\n\n    };\n\n    this.deletimg = () => {\n      let AccountValue = this.props.AccountValue;\n      console.log(AccountValue);\n\n      if (AccountValue) {\n        let acctlist = localStorage.getItem(\"accountdata\") === null ? [] : JSON.parse(localStorage.getItem(\"accountdata\")); //const filteritem = this.state.items.filter(item => item.key !== key);\n\n        acctlist[\"accountsPage\"][AccountValue][\"profilePic\"] = \"\"; // Image deleted\n\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n      }\n\n      this.setState({\n        profileImg: profile\n      });\n    };\n  }\n\n  componentDidUpdate(oldProps) {\n    if (oldProps.ChangeAvatar !== this.props.ChangeAvatar) {\n      const {\n        profilePic\n      } = this.props.ChangeAvatar;\n      this.setState({\n        profileImg: typeof profilePic !== \"undefined\" && profilePic !== \"\" ? profilePic : profile,\n        Accountvalue: this.props.Accountvalue\n      });\n    }\n  }\n\n  shouldComponentUpdate() {\n    if (typeof this.props.ChangeAvatar === \"undefined\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  readURI(e) {\n    if (e.target.files && e.target.files[0]) {\n      console.log(e.target.files[0]);\n      let filename = e.target.files[0].name;\n      let regx = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(filename);\n\n      if (regx === false) {\n        alert(\"Invalid file type\");\n        return false;\n      }\n\n      let reader = new FileReader();\n\n      reader.onload = function (e) {\n        let acctlist = localStorage.getItem(\"accountdata\") === null ? [] : JSON.parse(localStorage.getItem(\"accountdata\"));\n        acctlist[\"accountsPage\"][this.props.Accountvalue][\"profilePic\"] = e.target.result;\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n        this.setState({\n          imageURI: e.target.result,\n          profileImg: e.target.result\n        });\n      }.bind(this);\n\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  handleChange(e) {\n    this.readURI(e); // maybe call this with webworker or async library?\n\n    if (this.props.onChange !== undefined) this.props.onChange(e); // propagate to parent component\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: [\"tm-avatar-container\", classes.tm_col_avatar].join(\" \"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.tm_bg_primary_dark,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: classes.tm_block_title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, \"Change Avatar\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.tm_avatar_container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.profileImg,\n      alt: \"Avatar\",\n      className: [\"img-fluid\", \"mb-4\", classes.tm_avatar].join(\" \"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: [\"tm-avatar-delete-link\", classes.tm_avatar_delete_link].join(\" \"),\n      onClick: this.deletimg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"far fa-trash-alt tm-product-delete-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }))), this.state.Accountvalue === \"\" ? null : /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: this.state.id,\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, \"Upload an image\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: this.state.id,\n      type: \"file\",\n      onChange: this.handleChange.bind(this),\n      className: \"show-for-sr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default ChangeAvatar;","map":{"version":3,"sources":["E:/edyoda-projects/React-final-project/src/Containers/AccountPage/ChangeAvatar.js"],"names":["React","Component","classes","profile","ChangeAvatar","state","profileImg","id","imageURI","Accountvalue","deletimg","AccountValue","props","console","log","acctlist","localStorage","getItem","JSON","parse","setItem","stringify","setState","componentDidUpdate","oldProps","profilePic","shouldComponentUpdate","readURI","e","target","files","filename","name","regx","test","alert","reader","FileReader","onload","result","bind","readAsDataURL","handleChange","onChange","undefined","render","tm_col_avatar","join","tm_bg_primary_dark","tm_block_title","tm_avatar_container","tm_avatar","tm_avatar_delete_link"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport classes from \"./ChangeAvatar.module.css\";\nimport profile from \"../../Assests/images/avatar.png\";\nclass ChangeAvatar extends Component {\n  state = {\n    profileImg: profile,\n    id: \"someUniqueId\", // I would use this.props.id for a real world implementation\n    imageURI: null,\n    Accountvalue: \"\",\n    // uploadButton:true,\n    // AccountValue:this.props.Accountvalue\n  };\n\n  componentDidUpdate(oldProps) {\n    if (oldProps.ChangeAvatar !== this.props.ChangeAvatar) {\n      const { profilePic } = this.props.ChangeAvatar;\n      this.setState({\n        profileImg:\n          typeof profilePic !== \"undefined\" && profilePic !== \"\"\n            ? profilePic\n            : profile,\n        Accountvalue: this.props.Accountvalue,\n      });\n    }\n  }\n\n  shouldComponentUpdate() {\n    if (typeof this.props.ChangeAvatar === \"undefined\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  deletimg = () => {\n    let AccountValue = this.props.AccountValue;\n    console.log(AccountValue);\n    if (AccountValue) {\n      let acctlist =\n        localStorage.getItem(\"accountdata\") === null\n          ? []\n          : JSON.parse(localStorage.getItem(\"accountdata\"));\n      //const filteritem = this.state.items.filter(item => item.key !== key);\n      acctlist[\"accountsPage\"][AccountValue][\"profilePic\"] = \"\"; // Image deleted\n      localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n    }\n\n    this.setState({\n      profileImg: profile,\n    });\n  };\n\n  readURI(e) {\n    if (e.target.files && e.target.files[0]) {\n      console.log(e.target.files[0]);\n      let filename = e.target.files[0].name;\n      let regx = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(filename);\n\n      if (regx === false) {\n        alert(\"Invalid file type\");\n        return false;\n      }\n      let reader = new FileReader();\n      reader.onload = function (e) {\n        let acctlist =\n          localStorage.getItem(\"accountdata\") === null\n            ? []\n            : JSON.parse(localStorage.getItem(\"accountdata\"));\n        acctlist[\"accountsPage\"][this.props.Accountvalue][\"profilePic\"] =\n          e.target.result;\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n\n        this.setState({\n          imageURI: e.target.result,\n          profileImg: e.target.result,\n        });\n      }.bind(this);\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  handleChange(e) {\n    this.readURI(e); // maybe call this with webworker or async library?\n    if (this.props.onChange !== undefined) this.props.onChange(e); // propagate to parent component\n  }\n  render() {\n    return (\n      <div className={[\"tm-avatar-container\", classes.tm_col_avatar].join(\" \")}>\n        <div className={classes.tm_bg_primary_dark}>\n          <h2 className={classes.tm_block_title}>Change Avatar</h2>\n          <div className={classes.tm_avatar_container}>\n            <img\n              src={this.state.profileImg}\n              alt=\"Avatar\"\n              className={[\"img-fluid\", \"mb-4\", classes.tm_avatar].join(\" \")}\n            />\n            <a\n              href=\"#\"\n              className={[\n                \"tm-avatar-delete-link\",\n                classes.tm_avatar_delete_link,\n              ].join(\" \")}\n              onClick={this.deletimg}\n            >\n              <i className=\"far fa-trash-alt tm-product-delete-icon\"></i>\n            </a>\n          </div>\n\n          {this.state.Accountvalue === \"\" ? null : (\n            <label htmlFor={this.state.id} className=\"button\">\n              Upload an image\n            </label>\n          )}\n          <input\n            id={this.state.id}\n            type=\"file\"\n            onChange={this.handleChange.bind(this)}\n            className=\"show-for-sr\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChangeAvatar;\n"]},"metadata":{},"sourceType":"module"}