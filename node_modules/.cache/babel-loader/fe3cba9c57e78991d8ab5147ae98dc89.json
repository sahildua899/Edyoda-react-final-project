{"ast":null,"code":"var _jsxFileName = \"E:\\\\edyoda-projects\\\\React-final-project\\\\src\\\\Containers\\\\Login\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport classes from \"./Login.module.css\";\nimport { connect } from \"react-redux\";\nconst emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\n\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      formError: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n\n    this.filterAccountData = e => {\n      let acctlist = localStorage.getItem(\"accountdata\") === null ? [] : JSON.parse(localStorage.getItem(\"accountdata\"));\n      let userData = Object.values(acctlist[\"accountsPage\"]);\n      console.log(userData);\n      let data = userData.filter(data => data.email === this.state.username);\n\n      if (data.length > 0) {\n        if (data[0][\"email\"] === this.state.username && data[0][\"password\"] === this.state.password) {\n          acctlist[\"isLogged\"] = true;\n          localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let isLoggedIn = this.filterAccountData(e);\n\n      if (isLoggedIn) {\n        this.props.onUserLoggedIn();\n        this.props.history.push(\"/dashboard\");\n      }\n\n      console.log(isLoggedIn);\n    };\n\n    this.handlechange = e => {\n      let name = e.target.name;\n      let value = e.target.value;\n      let formError = this.state.formError;\n\n      switch (name) {\n        case \"password\":\n          formError.password = value.length < 6 && value.length > 0 ? \"*minimum 6 characters required\" : \"\";\n          break;\n\n        case \"username\":\n          formError.username = emailRegex.test(value) && value.length > 0 ? \"\" : \"*invalid password\";\n          break;\n      }\n\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  render() {\n    const {\n      formError\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: [\"container\", classes.spc].join(\" \"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: [\"row\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: [\"col-12\", \"mx-auto\", classes.tm_login_col].join(\" \"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.tm_bg_primary_dark,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: [\"row\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: [\"col-12\", \"text-center\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: classes.tm_block_title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }, \"Welcome to Dashboard, Login\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      action: \"index.html\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: [\"form-group\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 23\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      className: [\"form-control\"],\n      id: \"username\",\n      value: this.state.username,\n      onChange: this.handlechange,\n      required: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    })), formError.username.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.Errormessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 23\n      }\n    }, formError.username), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 23\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      className: [\"form-control\"],\n      id: \"password\",\n      value: this.state.password,\n      onChange: this.handlechange,\n      required: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 23\n      }\n    })), formError.password.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.Errormessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 23\n      }\n    }, formError.password), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.handleSubmit,\n      className: [\"button\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }\n    }, \"Login\")))))))));\n  }\n\n} // redux\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onUserLoggedIn: () => {\n      dispatch({\n        type: \"USER_LOGIN\"\n      });\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Login); // export default Login;","map":{"version":3,"sources":["E:/edyoda-projects/React-final-project/src/Containers/Login/Login.js"],"names":["React","Component","classes","connect","emailRegex","RegExp","Login","state","username","password","formError","filterAccountData","e","acctlist","localStorage","getItem","JSON","parse","userData","Object","values","console","log","data","filter","email","length","setItem","stringify","handleSubmit","preventDefault","isLoggedIn","props","onUserLoggedIn","history","push","handlechange","name","target","value","test","setState","render","spc","join","tm_login_col","tm_bg_primary_dark","tm_block_title","Errormessage","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport classes from \"./Login.module.css\";\nimport { connect } from \"react-redux\";\nconst emailRegex = RegExp(\n  /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    formError: {\n      username: \"\",\n      password: \"\",\n    },\n  };\n\n  filterAccountData = (e) => {\n    let acctlist =\n      localStorage.getItem(\"accountdata\") === null\n        ? []\n        : JSON.parse(localStorage.getItem(\"accountdata\"));\n    let userData = Object.values(acctlist[\"accountsPage\"]);\n    console.log(userData);\n    let data = userData.filter((data) => data.email === this.state.username);\n\n    if (data.length > 0) {\n      if (\n        data[0][\"email\"] === this.state.username &&\n        data[0][\"password\"] === this.state.password\n      ) {\n        acctlist[\"isLogged\"] = true;\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let isLoggedIn = this.filterAccountData(e);\n\n    if (isLoggedIn) {\n      this.props.onUserLoggedIn();\n      this.props.history.push(\"/dashboard\");\n    }\n    console.log(isLoggedIn);\n  };\n  handlechange = (e) => {\n    let name = e.target.name;\n    let value = e.target.value;\n    let formError = this.state.formError;\n    switch (name) {\n      case \"password\":\n        formError.password =\n          value.length < 6 && value.length > 0\n            ? \"*minimum 6 characters required\"\n            : \"\";\n        break;\n      case \"username\":\n        formError.username =\n          emailRegex.test(value) && value.length > 0 ? \"\" : \"*invalid password\";\n        break;\n    }\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  render() {\n    const { formError } = this.state;\n    return (\n      <div className={[\"container\", classes.spc].join(\" \")}>\n        <div className={[\"row\"]}>\n          <div\n            className={[\"col-12\", \"mx-auto\", classes.tm_login_col].join(\" \")}\n          >\n            <div className={classes.tm_bg_primary_dark}>\n              <div className={[\"row\"]}>\n                <div className={[\"col-12\", \"text-center\"]}>\n                  <h2 className={classes.tm_block_title}>\n                    Welcome to Dashboard, Login\n                  </h2>\n                </div>\n              </div>\n              <div className=\"row mt-2\">\n                <div className=\"col-12\">\n                  <form action=\"index.html\">\n                    <div className={[\"form-group\"]}>\n                      <label htmlFor=\"username\">Username</label>\n                      <input\n                        name=\"username\"\n                        type=\"text\"\n                        className={[\"form-control\"]}\n                        id=\"username\"\n                        value={this.state.username}\n                        onChange={this.handlechange}\n                        required=\"\"\n                      />\n                    </div>\n                    {formError.username.length > 0 && (\n                      <span className={classes.Errormessage}>\n                        {formError.username}\n                      </span>\n                    )}\n                    <div className=\"form-group mt-3\">\n                      <label htmlFor=\"password\">Password</label>\n                      <input\n                        name=\"password\"\n                        type=\"password\"\n                        className={[\"form-control\"]}\n                        id=\"password\"\n                        value={this.state.password}\n                        onChange={this.handlechange}\n                        required=\"\"\n                      />\n                    </div>\n                    {formError.password.length > 0 && (\n                      <span className={classes.Errormessage}>\n                        {formError.password}\n                      </span>\n                    )}\n                    <div className=\"form-group mt-4\">\n                      <button\n                        type=\"submit\"\n                        onClick={this.handleSubmit}\n                        className={[\"button\"]}\n                      >\n                        Login\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// redux\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onUserLoggedIn: () => {\n      dispatch({ type: \"USER_LOGIN\" });\n    },\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Login);\n\n// export default Login;\n"]},"metadata":{},"sourceType":"module"}